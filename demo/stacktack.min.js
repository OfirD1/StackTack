(function () {
    var w = function (f) {
        function q(d) { if ("undefined" != typeof d.dataset) return d.dataset; var g = {}; f.each(d.attributes, function (e, b) { null !== b.name.match(/^data-/) && (g[b.name.replace(/^data-/, "")] = b.value) }); return g } function r(d, g, e, b, a, h) { e = ("true" == d.secure ? "https://" : "http://") + "api.stackexchange.com/2.0" + e; b.key = d.key; b.site = g; b.filter = d.filter; f.ajax({ url: e, data: b, dataType: "jsonp", success: function (k) { "undefined" != typeof k.error_message ? h(k.error_message) : a(k.items) } }) } function t(d) {
            var g =
                '<div class="tags">'; f.each(d, function (e, b) { g += "<span>" + b + "</span>" }); return g + "</div>"
        } function p(d) { return "undefined" != typeof d.link ? '<a href="' + d.link + '" class="user-link">by ' + d.display_name + "</a>" : '<span class="user-link">' + d.display_name + "</span>" } function u(d, g) {
            var e = g.answers.sort(function (k, c) { return c.score - k.score }), b = {}; f.each(e, function (k, c) { b[c.answer_id] = c }); var a = []; "all" == d.answers ? a = e : "accepted" == d.answers ? "undefined" != typeof g.accepted_answer_id && "undefined" != typeof b[g.accepted_answer_id] ?
                a.push(b[g.accepted_answer_id]) : a.push(e[0]) : (e = d.answers.split(","), f.each(e, function (k, c) { "undefined" != typeof b[c] && a.push(b[c]) })); var h = ""; a.length ? f.each(a, function (k, c) { var m = h, n = ""; "true" == d.votes && (n += '<div class="hr" /><a href="' + c.link + '" target="_blank" class="heading answer-count">' + c.score + " votes" + (c.is_accepted ? ' - <span class="accepted">Accepted</span>' : "") + "</a>"); n += p(c.owner) + c.body; h = m + n }) : h += '<div class="hr" /><p class="tip">No answers matched the specified criteria.</p>'; return h
        }
        function v(d, g) {
            var e = {}; f.each(g, function (b, a) { e[a.question_id] = a }); f.each(d, function (b, a) {
                var h = e[a.id], k = f(a.element); k.addClass("stacktack-container"); k.css("width", a.width + (null !== a.width.toString().match(/^\d+$/) ? "px" : "")); var c = '<div class="branding">Stack<span>Tack</span></div><a href="' + (h.link + '" target="_blank" class="heading">' + h.title + "</a>"); "true" == a.question && (c += p(h.owner) + '<div class="hr" />' + h.body, "true" == a.tags && (c += t(h.tags))); "none" != a.answers && (c = "undefined" != typeof h.answers ?
                    c + u(a, h) : c + '<div class="hr" /><p class="tip">This question does not have any answers.</p>'); k.html(c)
            })
        } f.fn.stacktack = function (d) {
            var g = f.extend({}, f.fn.stacktack.defaults, d), e = {}; this.each(function () { var b = f.extend({}, g, q(this), { element: this }); if ("undefined" != typeof b.id) { var a = b.site.replace(/\.com$/, ""); "undefined" == typeof e[a] && (e[a] = []); e[a].push(b) } }); f.each(e, function (b, a) {
                var h = []; f.each(a, function (c, m) { h.push(m.id) }); var k = f.unique(h).join(";"); r(g, b, "/questions/" + k, {}, function (c) { v(a, c) },
                    function (c) { })
            })
        }; f.fn.stacktack.defaults = { answers: "accepted", key: "CRspH1WAlZKCeCinkGOLHw((", filter: "!-)dQB3E8g_ab", question: "true", secure: "false", site: "stackoverflow", tags: "true", votes: "true", width: "auto" }
    }; if ("undefined" == typeof window.jQuery) { var l = document.createElement("script"); l.type = "text/javascript"; l.src = "https://code.jquery.com/jquery-latest.min.js"; l.onload = function () { w(jQuery); $(document).ready(function () { $(".stacktack").stacktack() }) }; document.getElementsByTagName("head")[0].appendChild(l) }
})();